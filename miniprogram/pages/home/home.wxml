<view class="container">
  <view class="date-header">
    <text class="date-text">{{todayDisplay}} èœå“</text>
  </view>

  <view wx:if="{{loading}}" class="skeleton-group">
    <view class="skeleton-card" wx:for="{{[1,2,3]}}" wx:key="*this">
      <view class="skeleton skeleton-image"></view>
      <view class="skeleton-lines">
        <view class="skeleton skeleton-line skeleton-line-medium"></view>
        <view class="skeleton skeleton-line skeleton-line-short"></view>
      </view>
    </view>
  </view>

  <view wx:else class="fade-in">
    <!-- æ—©é¤ -->
    <view class="section">
      <view class="section-title">ğŸŒ… æ—©é¤</view>
      <block wx:if="{{breakfastDishes.length > 0}}">
        <dish-card
          wx:for="{{breakfastDishes}}"
          wx:key="_id"
          dish="{{item}}"
          bind:dishtap="onDishTap"
        />
      </block>
      <empty-state wx:else message="ä»Šæ—¥æ—©é¤èœå“æš‚æœªå½•å…¥" />
    </view>

    <!-- åˆé¤ -->
    <view class="section">
      <view class="section-header">
        <view class="section-title">â˜€ï¸ åˆé¤</view>
        <view class="subscribe-btn {{lunchSubscribed ? 'subscribed' : ''}}" data-meal="lunch" bindtap="onSubscribeTap">
          <text>{{lunchSubscribed ? 'âœ“ å·²è®¢é˜…' : 'ğŸ”” è®¢é˜…æé†’'}}</text>
        </view>
      </view>
      <block wx:if="{{lunchDishes.length > 0}}">
        <dish-card
          wx:for="{{lunchDishes}}"
          wx:key="_id"
          dish="{{item}}"
          bind:dishtap="onDishTap"
        />
      </block>
      <empty-state wx:else message="ä»Šæ—¥åˆé¤èœå“æš‚æœªå½•å…¥" />
    </view>

    <!-- æ™šé¤ -->
    <view class="section">
      <view class="section-header">
        <view class="section-title">ğŸŒ™ æ™šé¤</view>
        <view class="subscribe-btn {{dinnerSubscribed ? 'subscribed' : ''}}" data-meal="dinner" bindtap="onSubscribeTap">
          <text>{{dinnerSubscribed ? 'âœ“ å·²è®¢é˜…' : 'ğŸ”” è®¢é˜…æé†’'}}</text>
        </view>
      </view>
      <block wx:if="{{dinnerDishes.length > 0}}">
        <dish-card
          wx:for="{{dinnerDishes}}"
          wx:key="_id"
          dish="{{item}}"
          bind:dishtap="onDishTap"
        />
      </block>
      <empty-state wx:else message="ä»Šæ—¥æ™šé¤èœå“æš‚æœªå½•å…¥" />
    </view>
  </view>
</view>
